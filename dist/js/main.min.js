"use strict";var prevSeconds,prevMinutes,prevHours,prevDays,secondsCard=document.querySelector(".app__body-card--seconds"),minutesCard=document.querySelector(".app__body-card--minutes"),hoursCard=document.querySelector(".app__body-card--hours"),daysCard=document.querySelector(".app__body-card--days"),box=document.querySelectorAll(".app__body-box"),popup=document.querySelector(".popup"),settingsBtn=document.querySelector(".app__body-settings"),closePopupBtn=document.querySelector(".popup__main-close"),confirmPopupBtn=document.querySelector(".popup__main-confirm"),nameInput=document.querySelector("#name"),dateInput=document.querySelector("#date"),allInputs=popup.querySelectorAll("input"),appHeading=document.querySelector(".app__heading"),currentTime=new Date,usersTime=new Date,checkPopup=(usersTime.setHours(usersTime.getHours()+216),function(){checkLength(nameInput),checkDate(dateInput),checkErrors()}),showError=function(e,t){e=e.parentElement;e.classList.add("popup__main-box--error"),e.querySelector(".error-info").textContent=t},clearError=function(e){e.parentElement.classList.remove("popup__main-box--error")},checkLength=function(e){""===e.value?showError(e,"Can't be blank"):clearError(e)},checkDate=function(e){var t=new Date(dateInput.value);""===e.value?showError(e,"Can't be blank"):t<currentTime?showError(e,"Can't be in the past"):clearError(e)},checkErrors=function(){var e=popup.querySelectorAll(".popup__main-box"),t=0;e.forEach(function(e){e.classList.contains("popup__main-box--error")&&t++}),0===t&&setEvent()},setEvent=function(){var e=new Date(dateInput.value);appHeading.textContent=nameInput.value,usersTime=e,closePopup()},closePopup=function(){popup.classList.remove("popup--active"),nameInput.value="",dateInput.value="",clearError(nameInput),clearError(dateInput)},handleCounter=function e(){var t=new Date,n=usersTime-t,o=Math.floor(n/1e3/60/60/24),r=Math.floor(n/1e3/60/60)%24,a=Math.floor(n/1e3/60)%60,p=Math.floor(n/1e3)%60;n<0||(prevSeconds!==p&&(handleAnimation(secondsCard,p),prevSeconds=p),prevMinutes!==a&&(handleAnimation(minutesCard,a),prevMinutes=a),prevHours!==r&&(handleAnimation(hoursCard,r),prevHours=r),prevDays!==o&&(handleAnimation(daysCard,o),prevDays=o),n=1e3-((new Date).getTime()-t.getTime())%1e3,setTimeout(e,n))},handleAnimation=function(e,t){function n(){r.classList.remove("animation-top"),r.removeEventListener("animationend",n),a.classList.add("animation-bottom"),a.addEventListener("animationend",o),u.textContent=t,p.textContent=t}function o(){a.classList.remove("animation-bottom"),a.removeEventListener("animationend",o)}var r=e.querySelector(".app__body-card-top"),a=e.querySelector(".app__body-card-bottom"),p=r.querySelector("span"),u=a.querySelector("span");r.classList.add("animation-top"),r.addEventListener("animationend",n)};function main(){handleCounter(),closePopupBtn.addEventListener("click",closePopup),settingsBtn.addEventListener("click",function(){popup.classList.add("popup--active")}),confirmPopupBtn.addEventListener("click",checkPopup)}document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsicHJldlNlY29uZHMiLCJwcmV2TWludXRlcyIsInByZXZIb3VycyIsInByZXZEYXlzIiwic2Vjb25kc0NhcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtaW51dGVzQ2FyZCIsImhvdXJzQ2FyZCIsImJveCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwb3B1cCIsInNldHRpbmdzQnRuIiwiY2xvc2VQb3B1cEJ0biIsImNvbmZpcm1Qb3B1cEJ0biIsIm5hbWVJbnB1dCIsImRhdGVJbnB1dCIsImFsbElucHV0cyIsImN1cnJlbnRUaW1lIiwiRGF0ZSIsInVzZXJzVGltZSIsImNoZWNrTGVuZ3RoIiwic2V0SG91cnMiLCJnZXRIb3VycyIsImNoZWNrRGF0ZSIsImNoZWNrRXJyb3JzIiwicG9wdXBCb3giLCJjbGFzc0xpc3QiLCJhZGQiLCJlcnJvckluZm8iLCJ0ZXh0Q29udGVudCIsImNsZWFyRXJyb3IiLCJtc2ciLCJlbCIsInBhcmVudEVsZW1lbnQiLCJ2YWx1ZSIsInJlbW92ZSIsImlucCIsInNob3dFcnJvciIsInRpbWUiLCJlcnJvckNvdW50IiwicG9wdXBCb3hlcyIsImZvckVhY2giLCJjb250YWlucyIsImFwcEhlYWRpbmciLCJjbG9zZVBvcHVwIiwiaGFuZGxlQ291bnRlciIsImRheXMiLCJmbG9vciIsImhvdXJzIiwiTWF0aCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiaGFuZGxlQW5pbWF0aW9uIiwicmVzdWx0IiwiZGF5c0NhcmQiLCJjYXJkIiwidG9wU3BhbiIsImJvdHRvbSIsIm9uQW5pbWF0aW9uRW5kVG9wIiwiYm90dG9tU3BhbiIsImdldFRpbWUiLCJzZXRUaW1lb3V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uQW5pbWF0aW9uRW5kQm90dG9tIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvcCIsIm1haW4iLCJjaGVja1BvcHVwIl0sIm1hcHBpbmdzIjoiYUFBQSxJQWtCSUEsWUFDQUMsWUFDQUMsVUFD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ZWNvbmRzQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2JvZHktY2FyZC0tc2Vjb25kcycpO1xyXG5jb25zdCBtaW51dGVzQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2JvZHktY2FyZC0tbWludXRlcycpO1xyXG5jb25zdCBob3Vyc0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19ib2R5LWNhcmQtLWhvdXJzJyk7XHJcbmNvbnN0IGRheXNDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcF9fYm9keS1jYXJkLS1kYXlzJyk7XHJcbmNvbnN0IGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcHBfX2JvZHktYm94Jyk7XHJcblxyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5jb25zdCBzZXR0aW5nc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2JvZHktc2V0dGluZ3MnKTtcclxuY29uc3QgY2xvc2VQb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fbWFpbi1jbG9zZScpO1xyXG5jb25zdCBjb25maXJtUG9wdXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX21haW4tY29uZmlybScpO1xyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpO1xyXG5jb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0ZScpO1xyXG5jb25zdCBhbGxJbnB1dHMgPSBwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG5jb25zdCBhcHBIZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcF9faGVhZGluZycpO1xyXG5cclxuY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5sZXQgdXNlcnNUaW1lID0gbmV3IERhdGUoKTtcclxudXNlcnNUaW1lLnNldEhvdXJzKHVzZXJzVGltZS5nZXRIb3VycygpICsgMjE2KTtcclxubGV0IHByZXZTZWNvbmRzO1xyXG5sZXQgcHJldk1pbnV0ZXM7XHJcbmxldCBwcmV2SG91cnM7XHJcbmxldCBwcmV2RGF5cztcclxuXHJcbmNvbnN0IGNoZWNrUG9wdXAgPSAoKSA9PiB7XHJcblx0Y2hlY2tMZW5ndGgobmFtZUlucHV0KTtcclxuXHRjaGVja0RhdGUoZGF0ZUlucHV0KTtcclxuXHRjaGVja0Vycm9ycygpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGVsLCBtc2cpID0+IHtcclxuXHRjb25zdCBwb3B1cEJveCA9IGVsLnBhcmVudEVsZW1lbnQ7XHJcblx0cG9wdXBCb3guY2xhc3NMaXN0LmFkZCgncG9wdXBfX21haW4tYm94LS1lcnJvcicpO1xyXG5cdGNvbnN0IGVycm9ySW5mbyA9IHBvcHVwQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1pbmZvJyk7XHJcblx0ZXJyb3JJbmZvLnRleHRDb250ZW50ID0gbXNnO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGVsID0+IHtcclxuXHRjb25zdCBwb3B1cEJveCA9IGVsLnBhcmVudEVsZW1lbnQ7XHJcblx0cG9wdXBCb3guY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfX21haW4tYm94LS1lcnJvcicpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tMZW5ndGggPSBpbnAgPT4ge1xyXG5cdGlmIChpbnAudmFsdWUgPT09ICcnKSB7XHJcblx0XHRzaG93RXJyb3IoaW5wLCBgQ2FuJ3QgYmUgYmxhbmtgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2xlYXJFcnJvcihpbnApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRGF0ZSA9IGlucCA9PiB7XHJcblx0bGV0IHRpbWUgPSBuZXcgRGF0ZShkYXRlSW5wdXQudmFsdWUpO1xyXG5cdGlmIChpbnAudmFsdWUgPT09ICcnKSB7XHJcblx0XHRzaG93RXJyb3IoaW5wLCBgQ2FuJ3QgYmUgYmxhbmtgKTtcclxuXHR9IGVsc2UgaWYgKHRpbWUgPCBjdXJyZW50VGltZSkge1xyXG5cdFx0c2hvd0Vycm9yKGlucCwgYENhbid0IGJlIGluIHRoZSBwYXN0YCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNsZWFyRXJyb3IoaW5wKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBwb3B1cEJveGVzID0gcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19tYWluLWJveCcpO1xyXG5cdGxldCBlcnJvckNvdW50ID0gMDtcclxuXHJcblx0cG9wdXBCb3hlcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19tYWluLWJveC0tZXJyb3InKSkge1xyXG5cdFx0XHRlcnJvckNvdW50Kys7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0aWYgKGVycm9yQ291bnQgPT09IDApIHtcclxuXHRcdHNldEV2ZW50KCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnQgPSAoKSA9PiB7XHJcblx0bGV0IHRpbWUgPSBuZXcgRGF0ZShkYXRlSW5wdXQudmFsdWUpO1xyXG5cclxuXHRhcHBIZWFkaW5nLnRleHRDb250ZW50ID0gbmFtZUlucHV0LnZhbHVlO1xyXG5cdHVzZXJzVGltZSA9IHRpbWU7XHJcblx0Y2xvc2VQb3B1cCgpO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC0tYWN0aXZlJyk7XHJcblx0bmFtZUlucHV0LnZhbHVlID0gJyc7XHJcblx0ZGF0ZUlucHV0LnZhbHVlID0gJyc7XHJcblx0Y2xlYXJFcnJvcihuYW1lSW5wdXQpO1xyXG5cdGNsZWFyRXJyb3IoZGF0ZUlucHV0KTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNvdW50ZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cdGNvbnN0IHJlc3VsdCA9IHVzZXJzVGltZSAtIGN1cnJlbnRUaW1lO1xyXG5cclxuXHRjb25zdCBkYXlzID0gTWF0aC5mbG9vcihyZXN1bHQgLyAxMDAwIC8gNjAgLyA2MCAvIDI0KTtcclxuXHRjb25zdCBob3VycyA9IE1hdGguZmxvb3IocmVzdWx0IC8gMTAwMCAvIDYwIC8gNjApICUgMjQ7XHJcblx0Y29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IocmVzdWx0IC8gMTAwMCAvIDYwKSAlIDYwO1xyXG5cdGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHJlc3VsdCAvIDEwMDApICUgNjA7XHJcblxyXG5cdGlmIChyZXN1bHQgPCAwKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChwcmV2U2Vjb25kcyAhPT0gc2Vjb25kcykge1xyXG5cdFx0XHRoYW5kbGVBbmltYXRpb24oc2Vjb25kc0NhcmQsIHNlY29uZHMpO1xyXG5cdFx0XHRwcmV2U2Vjb25kcyA9IHNlY29uZHM7XHJcblx0XHR9XHJcblx0XHRpZiAocHJldk1pbnV0ZXMgIT09IG1pbnV0ZXMpIHtcclxuXHRcdFx0aGFuZGxlQW5pbWF0aW9uKG1pbnV0ZXNDYXJkLCBtaW51dGVzKTtcclxuXHRcdFx0cHJldk1pbnV0ZXMgPSBtaW51dGVzO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHByZXZIb3VycyAhPT0gaG91cnMpIHtcclxuXHRcdFx0aGFuZGxlQW5pbWF0aW9uKGhvdXJzQ2FyZCwgaG91cnMpO1xyXG5cdFx0XHRwcmV2SG91cnMgPSBob3VycztcclxuXHRcdH1cclxuXHRcdGlmIChwcmV2RGF5cyAhPT0gZGF5cykge1xyXG5cdFx0XHRoYW5kbGVBbmltYXRpb24oZGF5c0NhcmQsIGRheXMpO1xyXG5cdFx0XHRwcmV2RGF5cyA9IGRheXM7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvL1xyXG5cdGNvbnN0IGRlbGF5ID0gMTAwMCAtICgobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBjdXJyZW50VGltZS5nZXRUaW1lKCkpICUgMTAwMCk7XHJcblx0c2V0VGltZW91dChoYW5kbGVDb3VudGVyLCBkZWxheSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBbmltYXRpb24gPSAoY2FyZCwgdGltZSkgPT4ge1xyXG5cdGNvbnN0IHRvcCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmFwcF9fYm9keS1jYXJkLXRvcCcpO1xyXG5cdGNvbnN0IGJvdHRvbSA9IGNhcmQucXVlcnlTZWxlY3RvcignLmFwcF9fYm9keS1jYXJkLWJvdHRvbScpO1xyXG5cclxuXHRjb25zdCB0b3BTcGFuID0gdG9wLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcclxuXHRjb25zdCBib3R0b21TcGFuID0gYm90dG9tLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcclxuXHJcblx0Y29uc3Qgb25BbmltYXRpb25FbmRUb3AgPSAoKSA9PiB7XHJcblx0XHR0b3AuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW9uLXRvcCcpO1xyXG5cdFx0dG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIG9uQW5pbWF0aW9uRW5kVG9wKTtcclxuXHRcdGJvdHRvbS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24tYm90dG9tJyk7XHJcblx0XHRib3R0b20uYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgb25BbmltYXRpb25FbmRCb3R0b20pO1xyXG5cdFx0Ym90dG9tU3Bhbi50ZXh0Q29udGVudCA9IHRpbWU7XHJcblx0XHR0b3BTcGFuLnRleHRDb250ZW50ID0gdGltZTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBvbkFuaW1hdGlvbkVuZEJvdHRvbSA9ICgpID0+IHtcclxuXHRcdGJvdHRvbS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24tYm90dG9tJyk7XHJcblx0XHRib3R0b20ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgb25BbmltYXRpb25FbmRCb3R0b20pO1xyXG5cdH07XHJcblxyXG5cdHRvcC5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb24tdG9wJyk7XHJcblx0dG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIG9uQW5pbWF0aW9uRW5kVG9wKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcblx0aGFuZGxlQ291bnRlcigpO1xyXG5cdGNsb3NlUG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwKTtcclxuXHRzZXR0aW5nc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1hY3RpdmUnKTtcclxuXHR9KTtcclxuXHRjb25maXJtUG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja1BvcHVwKTtcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pO1xyXG4iXX0=
